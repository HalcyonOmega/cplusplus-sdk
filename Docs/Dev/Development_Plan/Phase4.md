# Phase 4: Core Features

1. **Capabilities**
   - Implement `ClientCapabilities` and `ServerCapabilities` objects.
   - Support feature negotiation and conditional logic based on capabilities.

2. **Roots**
   - Implement root directory/file management.
   - Support `roots/list` and related notifications.

3. **Prompts**
   - Implement prompt listing, templating, and argument handling.
   - Support `prompts/list` and prompt references.

4. **Resources**
   - Implement resource listing, reading, and template expansion.
   - Support `resources/list`, `resources/templates/list`, and resource notifications.

5. **Tools**
   - Implement tool registration, listing, and invocation.
   - Support `tools/list`, tool schemas, and tool call results.

6. **Sampling**
   - Implement message sampling and completion requests.
   - Support LLM message exchange, system prompts, and sampling parameters. 